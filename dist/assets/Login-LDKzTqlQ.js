import{r as g,u as w,j as e,O as f,N as b,F as j,a as N}from"./index-CL5vkUFu.js";import{z as r,u as y,P as v,L as E,t as S,y as k}from"./index-DbCPdz4B.js";const C=r.object({email:r.string().email({message:"Email is invalid"}),password:r.string().min(6,{message:"Password should be at least 6 characters long"})}),F="/api/v1/auth/login";function B(){const[l,x]=g.useState(!1),{register:o,handleSubmit:d,formState:{errors:a},setError:n,clearErrors:p}=y({resolver:S(C),shouldFocusError:!1}),u=w(),h=async t=>{var m,c;try{const s=await N.post(F,t,{headers:{"Content-Type":"application/json"}});x(!0),k.success("Successfully logged in!",{position:"bottom-right",autoClose:2e3}),localStorage.setItem("authToken",s.data.token),u("/")}catch(s){(c=(m=s.response)==null?void 0:m.data)!=null&&c.msg.includes("password")?n("password",{type:"server",message:s.response.data.msg}):n("email",{type:"server",message:s.response.data.msg})}},i=t=>{p(t)};return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(b,{}),e.jsxs("div",{className:"py-[68px] flex flex-row justify-center xl:justify-start items-center 2xl:gap-56 ",children:[e.jsx("img",{src:v,className:"w-[805px] h-[781px] hidden xl:block "}),e.jsxs("div",{className:"w-full px-8 sm:w-[371px] h-full sm:h-[326px] flex flex-col items-center sm:items-start ",children:[e.jsx("h1",{className:"text-3xl w-auto mb-6 break-all",children:" Log in to Exclusive"}),e.jsx("h5",{className:"break-all",children:"Enter Your Details Below"}),e.jsxs("form",{onSubmit:d(h),className:"flex flex-col items-start pt-12 ",children:[a.email&&e.jsx("span",{className:"text-red-500 text-sm",children:a.email.message}),e.jsx("input",{onChange:()=>i("email"),autoComplete:"email",type:"email",...o("email"),placeholder:"Email or Phone Number",className:"border-b w-full sm:w-[370px] h-[32px] outline-none mb-10"}),a.password&&e.jsx("span",{className:"text-red-500 text-sm",children:a.password.message}),e.jsx("input",{onChange:()=>i("password"),autoComplete:"current-password",type:"password",name:"password",...o("password"),placeholder:"password",className:"border-b w-full sm:w-[370px] h-[32px] outline-none mb-10"}),e.jsxs("div",{className:"flex justify-between md:flex-row flex-col items-center w-full",children:[e.jsx("button",{type:"submit",className:l?"w-full sm:w-[124px] h-14 bg-gray-400 rounded text-white break-all":"w-full sm:w-[124px] h-14 bg-[#DB4444] rounded text-white break-all",disabled:l,children:"Login"}),e.jsx("a",{href:"#",className:"mt-4 text-[#DB4444] break-all",children:"Forget Password? "})]})]})]})]}),e.jsx(j,{}),e.jsx(E,{})]})}export{B as default};
